agent_key: appointment_agent
version: 1.0.0
description: "复诊管理智能体提示词模板"

modules:
  # 必需模块
  role:
    type: required
    loader: config
    source: config/prompts/modules/appointment/role.txt
    enabled: true
  
  response_format:
    type: required
    loader: config
    source: config/prompts/modules/appointment/response_format.txt
    enabled: true
  
  # 可选模块
  user_info:
    type: optional
    loader: dynamic
    source: runtime
    enabled: true
    condition: "{user_id is not None}"
    template: |
      系统提供的用户ID：{user_id}。
      调用工具时直接使用该 user_id，无需向用户索取。
  
  few_shot_examples:
    type: optional
    loader: config
    source: config/prompts/modules/appointment/few_shot_examples.txt
    enabled: true
  
  # 业务模块
  function_description:
    type: business
    loader: config
    source: config/prompts/modules/appointment/function_description.txt
    enabled: true
  
  data_validation:
    type: business
    loader: config
    source: config/prompts/modules/appointment/data_validation.txt
    enabled: true
  
  clarification:
    type: business
    loader: config
    source: config/prompts/modules/appointment/clarification.txt
    enabled: true
  
  notes:
    type: business
    loader: config
    source: config/prompts/modules/appointment/notes.txt
    enabled: true

composition:
  order:
    - role
    - function_description
    - data_validation
    - clarification
    - response_format
    - user_info
    - few_shot_examples
    - notes
  separator: "\n\n"
