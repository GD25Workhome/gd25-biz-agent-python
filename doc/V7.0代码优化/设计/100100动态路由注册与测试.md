# 动态路由注册与测试 - 最小可行版本开发计划

## 文档说明

本文档描述“100000动态流程总体设计.md”系统的最小可行版本（MVP）开发计划。本版本旨在验证核心架构设计，实现最基本的流程配置化和动态加载能力。

**文档版本**：V1.0  
**创建时间**：2026-01-XX  
**目标**：实现核心流程加载机制，支持两个简单流程的配置化和动态加载

---

## 一、开发目标

### 1.1 核心目标

1. **实现核心启动流程**：完成系统启动时的核心流程（480-494行）
2. **流程配置化**：通过YAML配置文件定义流程，支持动态加载
3. **双流程验证**：实现两个简单流程，验证预加载和按需加载机制
4. **代码隔离**：新代码完全独立于老代码，放在 `01_Agent` 目录下

### 1.2 功能范围

**包含功能**：
- ✅ 流程YAML配置解析
- ✅ 流程定义缓存（启动时解析）
- ✅ 流程图构建和编译（LangGraph）
- ✅ 预加载机制（启动时加载常用流程）
- ✅ 按需加载机制（首次使用时加载）
- ✅ 提示词管理（被动加载，流程加载时加载）
- ✅ 两个简单流程（医疗分身Agent、工作计划Agent）

**不包含功能**（后续版本实现）：
- ❌ 流程热更新
- ❌ 多版本流程管理
- ❌ 复杂的上下文管理
- ❌ 数据库持久化（本版本仅内存运行）
- ❌ Langfuse集成（简化版本，后续添加）

---

## 二、系统架构设计

### 2.1 目录结构

```
01_Agent/
├── .env                          # 环境变量配置
├── README.md                     # 项目说明
├── requirements.txt              # Python依赖
├── backend/                      # 后端代码
│   ├── main.py                   # FastAPI应用入口
│   ├── app/
│   │   ├── __init__.py
│   │   ├── config.py             # 配置管理
│   │   └── api/
│   │       ├── __init__.py
│   │       └── routes.py         # API路由
│   ├── domain/                   # 领域层
│   │   ├── __init__.py
│   │   ├── flows/                # 流程管理模块
│   │   │   ├── __init__.py
│   │   │   ├── definition.py     # 流程定义类
│   │   │   ├── parser.py         # YAML解析器
│   │   │   ├── builder.py        # 图构建器
│   │   │   └── manager.py        # 流程管理器
│   │   ├── agents/               # Agent系统
│   │   │   ├── __init__.py
│   │   │   ├── factory.py        # Agent工厂
│   │   │   └── registry.py       # Agent注册表
│   │   ├── tools/                # 工具系统（简化版）
│   │   │   ├── __init__.py
│   │   │   └── registry.py       # 工具注册表
│   │   └── state.py              # 状态定义
│   └── infrastructure/           # 基础设施层
│       ├── __init__.py
│       ├── llm/                  # LLM客户端
│       │   ├── __init__.py
│       │   ├── client.py         # LLM客户端
│       │   └── providers/         # 模型供应商管理
│       │       ├── __init__.py
│       │       ├── manager.py    # 供应商管理器
│       │       └── registry.py   # 供应商注册表
│       └── prompts/              # 提示词管理
│           ├── __init__.py
│           ├── manager.py        # 提示词管理器
│           └── loader.py        # 提示词加载器
├── frontend/                     # 前端代码（简化版）
│   └── index.html                # 简单的聊天界面
└── config/                       # 配置文件
    ├── flows/                    # 流程配置文件目录
    │   ├── medical_agent/        # 医疗分身Agent流程目录
    │   │   ├── flow.yaml         # 流程配置文件
    │   │   └── prompts/          # 该流程的提示词目录
    │   │       ├── intent_recognition.txt
    │   │       ├── blood_pressure_agent.txt
    │   │       └── clarify_intent.txt
    │   └── work_plan_agent/      # 工作计划Agent流程目录
    │       ├── flow.yaml         # 流程配置文件
    │       └── prompts/          # 该流程的提示词目录
    │           ├── intent_recognition.txt
    │           ├── work_plan_agent.txt
    │           └── clarify_intent.txt
    ├── flow_loader.yaml          # 流程加载配置（指定预加载流程）
    └── model_providers.yaml      # 模型供应商配置
```

### 2.2 核心模块说明

#### 2.2.1 流程管理模块（domain/flows/）

**职责**：流程定义、解析、构建和管理

**核心组件**：
- `FlowDefinition`：流程定义对象（节点、边、配置）
- `FlowParser`：YAML流程文件解析器
- `GraphBuilder`：图构建器（构建LangGraph图）
- `FlowManager`：流程管理器（流程加载、缓存、预加载/按需加载）

**关键方法**：
```python
class FlowManager:
    @classmethod
    def scan_flows(cls, flows_dir: str):
        """扫描流程文件，解析流程定义（不构建图）"""
    
    @classmethod
    def preload_flows(cls, flow_names: List[str]):
        """预加载指定流程（构建和编译图）"""
    
    @classmethod
    def get_flow(cls, flow_name: str) -> CompiledGraph:
        """获取流程图（按需加载）"""
```

#### 2.2.2 模型供应商管理模块（infrastructure/llm/providers/）

**职责**：模型供应商的统一管理和配置

**核心组件**：
- `ProviderManager`：模型供应商管理器（加载和管理供应商配置）
- `ProviderRegistry`：供应商注册表（缓存供应商配置信息）

**关键特性**：
- **配置化管理**：通过YAML配置文件定义模型供应商信息
- **供应商信息**：包含provider名称、api_key、base_url等
- **启动时加载**：系统启动时加载所有供应商配置
- **按需获取**：Agent创建时根据provider名称获取对应的供应商配置
- **环境变量支持**：api_key支持从环境变量读取（如`${OPENAI_API_KEY}`）

**配置示例**（`config/model_providers.yaml`）：
```yaml
providers:
  - provider: "openai"
    api_key: "${OPENAI_API_KEY}"
    base_url: "https://api.openai.com/v1"
  
  - provider: "doubao"
    api_key: "${DOUBAO_API_KEY}"
    base_url: "https://ark.cn-beijing.volces.com/api/v3"
  
  - provider: "deepseek"
    api_key: "${DEEPSEEK_API_KEY}"
    base_url: "https://api.deepseek.com"
```

#### 2.2.3 提示词管理模块（infrastructure/prompts/）

**职责**：提示词的统一管理和加载

**核心组件**：
- `PromptManager`：提示词管理器（被动加载，提供缓存）
- `PromptLoader`：提示词加载器（当前仅支持本地文件）

**关键特性**：
- 被动加载：流程加载时按需加载提示词
- 缓存管理：加载后的提示词缓存在内存中
- 路径解析：提示词路径在YAML配置中使用相对路径（相对于流程目录），加载时需要解析为绝对路径

#### 2.2.4 Agent系统（domain/agents/）

**职责**：Agent的创建和管理

**核心组件**：
- `AgentFactory`：Agent工厂（根据配置创建Agent）
- `AgentRegistry`：Agent注册表（管理Agent配置）

**关键特性**：
- 支持从流程配置中读取模型参数
- 支持工具绑定

#### 2.2.5 工具系统（domain/tools/）

**职责**：工具的统一管理（简化版）

**核心组件**：
- `ToolRegistry`：工具注册表（管理所有工具）

**本版本工具**：
- 仅实现必要的工具（血压记录工具、工作计划工具等）

---

## 三、流程设计

### 3.1 医疗分身Agent流程

**流程名称**：`medical_agent`  
**预加载**：是（启动时加载）

**节点设计**：
1. **意图识别节点**（`intent_recognition`）
   - 类型：Agent节点
   - 提示词：`intent_recognition.txt`
   - 功能：识别用户意图（血压相关、其他）

2. **血压Agent节点**（`blood_pressure_agent`）
   - 类型：Agent节点
   - 提示词：`blood_pressure_agent.txt`（简化版）
   - 工具：`record_blood_pressure`
   - 功能：处理血压相关请求

3. **意图澄清节点**（`clarify_intent`）
   - 类型：Agent节点
   - 提示词：`clarify_intent.txt`（使用现有的 `router_clarify_intent_prompt.txt`）
   - 功能：当意图不明确时，引导用户说明需求

**流程定义**（YAML，文件位置：`config/flows/medical_agent/flow.yaml`）：
```yaml
name: medical_agent
version: "1.0"
description: "医疗分身Agent流程"

nodes:
  - name: intent_recognition
    type: agent
    config:
      prompt: prompts/intent_recognition.txt  # 相对于流程目录的路径
      model:
        provider: doubao              # 引用模型供应商配置中的provider名称
        name: doubao-seed-1-6-251015 # 模型名称
        temperature: 0.7             # 温度参数

  - name: blood_pressure_agent
    type: agent
    config:
      prompt: prompts/blood_pressure_agent.txt  # 相对于流程目录的路径
      model:
        provider: doubao              # 引用模型供应商配置中的provider名称
        name: doubao-seed-1-6-251015 # 模型名称
        temperature: 0.7             # 温度参数
      tools:
        - record_blood_pressure

  - name: clarify_intent
    type: agent
    config:
      prompt: prompts/clarify_intent.txt  # 相对于流程目录的路径
      model:
        provider: doubao              # 引用模型供应商配置中的provider名称
        name: doubao-seed-1-6-251015 # 模型名称
        temperature: 0.7             # 温度参数

edges:
  - from: intent_recognition
    to: blood_pressure_agent
    condition: intent == "blood_pressure"
  
  - from: intent_recognition
    to: clarify_intent
    condition: intent == "unclear"
  
  - from: clarify_intent
    to: intent_recognition
    condition: always
  
  - from: blood_pressure_agent
    to: intent_recognition
    condition: always

entry_node: intent_recognition
```

### 3.2 工作计划Agent流程

**流程名称**：`work_plan_agent`  
**预加载**：否（按需加载）

**节点设计**：
1. **意图识别节点**（`intent_recognition`）
   - 类型：Agent节点
   - 提示词：`intent_recognition.txt`（复用）
   - 功能：识别用户意图（工作计划相关、其他）

2. **记录工作计划节点**（`record_work_plan`）
   - 类型：Agent节点
   - 提示词：`work_plan_agent.txt`
   - 功能：处理工作计划相关请求（本版本仅聊天，不实现具体功能）

3. **意图澄清节点**（`clarify_intent`）
   - 类型：Agent节点
   - 提示词：`clarify_intent.txt`（复用）
   - 功能：当意图不明确时，引导用户说明需求

**流程定义**（YAML，文件位置：`config/flows/work_plan_agent/flow.yaml`）：
```yaml
name: work_plan_agent
version: "1.0"
description: "工作计划Agent流程"

nodes:
  - name: intent_recognition
    type: agent
    config:
      prompt: prompts/intent_recognition.txt  # 相对于流程目录的路径
      model:
        provider: doubao              # 引用模型供应商配置中的provider名称
        name: doubao-seed-1-6-251015 # 模型名称
        temperature: 0.7             # 温度参数

  - name: record_work_plan
    type: agent
    config:
      prompt: prompts/work_plan_agent.txt  # 相对于流程目录的路径
      model:
        provider: doubao              # 引用模型供应商配置中的provider名称
        name: doubao-seed-1-6-251015 # 模型名称
        temperature: 0.7             # 温度参数

  - name: clarify_intent
    type: agent
    config:
      prompt: prompts/clarify_intent.txt  # 相对于流程目录的路径
      model:
        provider: doubao              # 引用模型供应商配置中的provider名称
        name: doubao-seed-1-6-251015 # 模型名称
        temperature: 0.7             # 温度参数

edges:
  - from: intent_recognition
    to: record_work_plan
    condition: intent == "work_plan"
  
  - from: intent_recognition
    to: clarify_intent
    condition: intent == "unclear"
  
  - from: clarify_intent
    to: intent_recognition
    condition: always
  
  - from: record_work_plan
    to: intent_recognition
    condition: always

entry_node: intent_recognition
```

---

## 四、系统启动流程

### 4.1 启动步骤

```
1. 加载配置（.env文件）
   ↓
2. 加载模型供应商配置（ProviderManager加载config/model_providers.yaml）
   - 解析供应商配置（provider、api_key、base_url）
   - 支持环境变量替换（如${DOUBAO_API_KEY}）
   - 将供应商配置注册到ProviderRegistry
   ↓
3. 初始化工具注册表（注册所有业务工具）
   ↓
4. 扫描流程文件（FlowManager.scan_flows）
   - 扫描 config/flows/ 目录下的所有流程目录
   - 解析每个流程目录下的 flow.yaml 文件
   - 解析流程定义（FlowDefinition），不构建图
   ↓
5. 预加载常用流程（FlowManager.preload_flows）
   - 读取 config/flow_loader.yaml 配置
   - 根据配置预加载指定流程（medical_agent）
   - 流程加载时，根据流程配置加载所需的提示词
   - 根据流程配置中的provider从ProviderManager获取供应商配置
   - 构建和编译流程图
   ↓
6. 应用启动完成（其他流程按需加载）
```

### 4.2 模型供应商配置

**文件**：`config/model_providers.yaml`

```yaml
providers:
  - provider: "openai"
    api_key: "${OPENAI_API_KEY}"  # 支持环境变量
    base_url: "https://api.openai.com/v1"
  
  - provider: "doubao"
    api_key: "${DOUBAO_API_KEY}"
    base_url: "https://ark.cn-beijing.volces.com/api/v3"
  
  - provider: "deepseek"
    api_key: "${DEEPSEEK_API_KEY}"
    base_url: "https://api.deepseek.com"
```

**配置说明**：
- `provider`：供应商名称，在流程YAML配置中通过此名称引用
- `api_key`：API密钥，支持环境变量（如`${DOUBAO_API_KEY}`）
- `base_url`：API基础URL

### 4.3 流程加载配置

**文件**：`config/flow_loader.yaml`

```yaml
flows:
  preload:  # 需要预加载的流程（启动时编译）
    - medical_agent
  
  lazy_load:  # 按需加载的流程（首次使用时编译）
    - work_plan_agent
```

---

## 五、请求处理流程

### 5.1 请求处理步骤

```
1. 接收请求（API层）
   - 请求参数：message, session_id, flow_name
   ↓
2. 确定使用的流程（从请求参数获取flow_name）
   ↓
3. 获取流程图（FlowManager.get_flow）
   - 如果流程已编译：直接从缓存获取
   - 如果流程未编译：立即构建和编译（按需加载）
   - 流程加载时，根据流程配置加载所需的提示词
   - 根据流程配置中的provider从ProviderManager获取供应商配置
   ↓
4. 构建初始状态（State）
   - messages: [用户消息]
   - session_id: 会话ID
   ↓
5. 执行流程图（LangGraph执行）
   - Agent节点执行时：
     * 从PromptManager获取提示词模板
     * 根据节点配置的provider从ProviderManager获取供应商配置
     * 使用供应商配置和模型参数创建LLM客户端
     * 执行Agent（调用LLM和工具）
   ↓
6. 返回结果
```

### 5.2 API接口设计

**接口**：`POST /api/chat`

**请求体**：
```json
{
  "message": "我想记录血压，120/80",
  "session_id": "session_123",
  "flow_name": "medical_agent"  // 可选，默认使用medical_agent
}
```

**响应体**：
```json
{
  "response": "好的，我已经为您记录了血压数据：收缩压120mmHg，舒张压80mmHg。",
  "session_id": "session_123"
}
```

---

## 六、提示词设计

### 6.1 医疗分身Agent流程提示词

**提示词文件位置**：`config/flows/medical_agent/prompts/`

#### 6.1.1 意图识别提示词（intent_recognition.txt）

```
你是一个意图识别助手。你的任务是识别用户的意图。

支持的意图类型：
1. blood_pressure：血压相关（记录血压、查询血压等）
2. unclear：意图不明确

用户消息: {{query}}

请识别用户意图，并返回JSON格式：
{
    "intent": "blood_pressure" | "unclear",
    "confidence": 0.0-1.0,
    "reasoning": "识别理由"
}
```

#### 6.1.2 血压Agent提示词（blood_pressure_agent.txt，简化版）

```
你是一个专业的血压记录助手。你的职责是帮助用户记录血压数据。

功能说明：
- 记录血压：当用户提供血压数据（收缩压、舒张压、心率等）时，使用 record_blood_pressure 工具记录
- 如果用户提供的信息不完整，主动询问缺失的信息

数据完整性检查：
- 记录血压需要的信息：收缩压（systolic）、舒张压（diastolic）
- 可选信息：心率（heart_rate）、记录时间（record_time）、备注（notes）

注意事项：
- 血压的正常范围：收缩压 90-140 mmHg，舒张压 60-90 mmHg
- 回答要简洁、专业、友好
```

#### 6.1.3 意图澄清提示词（clarify_intent.txt）

使用现有的 `config/prompts/local/router_clarify_intent_prompt.txt` 作为参考，但需要适配医疗分身Agent的功能列表（记录血压、记录健康事件、记录用药、记录症状）。

### 6.2 工作计划Agent流程提示词

**提示词文件位置**：`config/flows/work_plan_agent/prompts/`

#### 6.2.1 意图识别提示词（intent_recognition.txt）

```
你是一个意图识别助手。你的任务是识别用户的意图。

支持的意图类型：
1. work_plan：工作计划相关（记录工作计划、查询工作计划等）
2. unclear：意图不明确

用户消息: {{query}}

请识别用户意图，并返回JSON格式：
{
    "intent": "work_plan" | "unclear",
    "confidence": 0.0-1.0,
    "reasoning": "识别理由"
}
```

#### 6.2.2 工作计划Agent提示词（work_plan_agent.txt）

```
你是一个工作计划助手。你的职责是帮助用户管理工作计划。

当前版本功能：
- 与用户聊天，了解工作计划需求
- 提供友好的对话体验

注意事项：
- 回答要简洁、专业、友好
- 当前版本仅支持聊天，具体功能将在后续版本实现
```

#### 6.2.3 意图澄清提示词（clarify_intent.txt）

使用现有的 `config/prompts/local/router_clarify_intent_prompt.txt` 作为参考，但需要适配工作计划Agent的功能列表（记录工作计划等）。

---

## 七、开发任务清单

### 7.1 第一阶段：基础架构搭建

- [ ] 创建项目目录结构
- [ ] 配置环境变量（.env文件）
- [ ] 实现配置管理模块（app/config.py）
- [ ] 实现模型供应商管理模块（infrastructure/llm/providers/）
  - [ ] 实现ProviderManager（供应商管理器）
  - [ ] 实现ProviderRegistry（供应商注册表）
  - [ ] 创建模型供应商配置文件（config/model_providers.yaml）
- [ ] 实现LLM客户端（infrastructure/llm/client.py）

### 7.2 第二阶段：流程管理核心

- [x] 实现流程定义类（domain/flows/definition.py）
- [x] 实现YAML解析器（domain/flows/parser.py）
- [x] 实现图构建器（domain/flows/builder.py）
- [x] 实现流程管理器（domain/flows/manager.py）
- [x] 实现状态定义（domain/state.py）

### 7.3 第三阶段：提示词管理

- [x] 实现提示词加载器（infrastructure/prompts/loader.py）
- [x] 实现提示词管理器（infrastructure/prompts/manager.py）
- [x] 创建医疗分身Agent流程提示词文件（config/flows/medical_agent/prompts/）
- [x] 创建工作计划Agent流程提示词文件（config/flows/work_plan_agent/prompts/）

### 7.4 第四阶段：Agent系统

- [x] 实现Agent工厂（domain/agents/factory.py）
- [x] 实现Agent注册表（domain/agents/registry.py）
- [x] 实现节点工厂（根据节点类型创建节点函数）

### 7.5 第五阶段：工具系统

- [x] 实现工具注册表（domain/tools/registry.py）
- [x] 实现血压记录工具（简化版）
- [ ] 实现工具包装器（TokenContext注入）- 本版本简化，未实现

### 7.6 第六阶段：流程配置

- [x] 创建模型供应商配置文件（config/model_providers.yaml）- 第一阶段已完成
- [x] 创建医疗分身Agent流程目录和配置（config/flows/medical_agent/flow.yaml）
- [x] 创建工作计划Agent流程目录和配置（config/flows/work_plan_agent/flow.yaml）
- [x] 创建流程加载配置（config/flow_loader.yaml）
- [x] 创建医疗分身Agent流程提示词文件（config/flows/medical_agent/prompts/）
- [x] 创建工作计划Agent流程提示词文件（config/flows/work_plan_agent/prompts/）

### 7.7 第七阶段：API层

- [x] 实现FastAPI应用（backend/main.py）
- [x] 实现API路由（backend/app/api/routes.py）
- [x] 实现请求/响应模型

### 7.8 第八阶段：前端界面

- [x] 创建简单的聊天界面（frontend/index.html）
- [x] 实现前端与后端通信

### 7.9 第九阶段：测试与验证

- [x] 测试系统启动流程 - 已创建测试用例（cursor_test/test_flow_system.py）
- [ ] 测试医疗分身Agent流程（预加载）- 需要实际运行验证
- [ ] 测试工作计划Agent流程（按需加载）- 需要实际运行验证
- [ ] 测试意图识别功能 - 需要实际运行验证
- [ ] 测试血压记录功能 - 需要实际运行验证
- [ ] 测试意图澄清功能 - 需要实际运行验证

**说明**：测试用例已创建，但由于需要实际的API密钥和LLM服务，完整的功能测试需要在实际环境中运行。

---

## 八、技术选型

### 8.1 核心技术栈

- **Web框架**：FastAPI
- **图执行引擎**：LangGraph
- **LLM框架**：LangChain
- **配置管理**：PyYAML
- **类型检查**：Pydantic
- **异步支持**：asyncio

### 8.2 依赖列表

```
fastapi>=0.104.0
uvicorn>=0.24.0
langchain>=0.1.0
langgraph>=0.0.20
langchain-openai>=0.0.2
pydantic>=2.0.0
pyyaml>=6.0
python-dotenv>=1.0.0
```

---

## 九、关键设计决策

### 9.1 简化设计

1. **不实现数据库**：本版本仅内存运行，不涉及数据持久化
2. **不实现Langfuse**：简化版本，后续添加可观测性
3. **简化上下文管理**：仅实现基本的流程状态管理
4. **简化工具系统**：仅实现必要的工具（血压记录工具）

### 9.2 代码隔离

1. **完全独立**：新代码放在 `01_Agent` 目录下，与老代码完全隔离
2. **独立配置**：使用独立的 `.env` 文件
3. **独立依赖**：使用独立的 `requirements.txt`

### 9.3 模型供应商管理设计

1. **配置化管理**：模型供应商信息通过YAML配置文件统一管理
2. **供应商与模型分离**：供应商配置（api_key、base_url）与模型参数（name、temperature）分离
3. **环境变量支持**：API密钥支持从环境变量读取，提高安全性
4. **按需引用**：流程YAML配置中通过provider名称引用供应商配置

### 9.4 流程设计

1. **最小节点数**：每个流程仅3个节点，验证核心机制
2. **简单路由**：使用简单的条件路由，不涉及复杂逻辑
3. **提示词组织**：每个流程的提示词放在对应的流程目录下，避免提示词与流程关系混乱
4. **提示词路径**：提示词路径在YAML配置中使用相对路径（相对于流程目录）

---

## 十、验收标准

### 10.1 功能验收

- ✅ 系统能够正常启动
- ✅ 能够扫描和解析流程配置文件
- ✅ 能够预加载医疗分身Agent流程
- ✅ 能够按需加载工作计划Agent流程
- ✅ 能够处理用户请求并返回响应
- ✅ 意图识别功能正常工作
- ✅ 血压记录功能正常工作（简化版）
- ✅ 意图澄清功能正常工作

### 10.2 性能验收

- ✅ 系统启动时间 < 5秒
- ✅ 预加载流程响应时间 < 100ms
- ✅ 按需加载流程首次响应时间 < 2秒
- ✅ 后续请求响应时间 < 1秒

### 10.3 代码质量

- ✅ 代码结构清晰，模块职责明确
- ✅ 代码注释完整（简体中文）
- ✅ 类型提示完整
- ✅ 无明显的代码错误和警告

---

## 十一、后续扩展方向

### 11.1 功能扩展

1. **数据库集成**：添加数据库持久化支持
2. **Langfuse集成**：添加可观测性支持
3. **更多工具**：扩展工具系统，支持更多业务工具
4. **复杂流程**：支持更复杂的流程设计（多节点、条件分支等）

### 11.2 架构扩展

1. **流程热更新**：支持流程配置的热更新
2. **多版本管理**：支持流程版本管理和A/B测试
3. **上下文持久化**：支持上下文数据的持久化存储
4. **远程提示词**：支持从Langfuse、Nacos等远程服务加载提示词

---

## 十二、总结

本开发计划旨在实现V7.2版本动态流程系统的最小可行版本，核心目标是：

1. **验证核心架构**：通过实现核心流程加载机制，验证整体架构设计的可行性
2. **代码隔离**：新代码完全独立，便于后续迁移和扩展
3. **简单实现**：最小化实现，聚焦核心功能，避免过度设计
4. **可扩展性**：为后续功能扩展预留接口和空间

通过本版本的开发，将为后续完整版本的实现奠定坚实基础。

---

**文档版本**：V1.0  
**创建时间**：2026-01-XX  
**对应代码路径**：`/Users/m684620/work/github_GD25/gd25-biz-agent-python_cursor/01_Agent`

