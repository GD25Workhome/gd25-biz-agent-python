# 需求
- 模型返回结果格式化
    - 字段：
        - 回复内容 → `response_content`
        - 推理小结 → `reasoning_summary`
        - 其它字段 → `additional_fields`

---

# 系统提示词部分

## 返回结果格式要求

你的所有回复必须严格按照以下JSON格式返回：

```json
{
    "response_content": "你的回复内容（直接面向用户的文本）",
    "reasoning_summary": "你的推理过程小结（简要说明你的思考过程和决策依据）",
    "additional_fields": {
        "key1": "value1",
        "key2": "value2"
    }
}
```

### 字段说明

1. **response_content**（回复内容，必填）
   - 这是直接返回给用户的文本内容
   - 应该简洁、专业、友好
   - 不要包含技术细节或内部推理过程

2. **reasoning_summary**（推理小结，必填）
   - 简要说明你的思考过程和决策依据
   - 例如：为什么选择这个工具、如何理解用户意图、如何处理不完整信息等
   - 长度控制在50-200字之间

3. **additional_fields**（其它字段，可选）
   - 用于存储额外的结构化信息
   - 例如：识别的实体、提取的关键信息、工具调用结果等
   - 如果不需要额外字段，可以设置为空对象 `{}`

### 重要规则

- **必须**严格按照JSON格式返回，不要返回纯文本
- **必须**包含 `response_content` 和 `reasoning_summary` 两个字段
- `response_content` 应该是用户可以直接阅读的自然语言文本
- `reasoning_summary` 应该简洁明了，说明你的思考过程
- 如果使用了工具，可以在 `additional_fields` 中记录工具调用信息

---

# 样例

## 样例1：记录血压场景

**用户输入：**
```
我的收缩压是120，舒张压是80
```

**模型返回：**
```json
{
    "response_content": "好的，我已经为您记录了血压数据：收缩压120mmHg，舒张压80mmHg。您的血压值在正常范围内，继续保持良好的生活习惯。",
    "reasoning_summary": "用户提供了完整的血压数据（收缩压120，舒张压80）。我识别出这是记录血压的意图，数据完整且符合正常范围，因此直接调用record_blood_pressure工具记录数据。",
    "additional_fields": {
        "tool_used": "record_blood_pressure",
        "systolic": 120,
        "diastolic": 80,
        "status": "normal"
    }
}
```

## 样例2：信息不完整场景

**用户输入：**
```
我想记录血压，收缩压是120
```

**模型返回：**
```json
{
    "response_content": "好的，我了解到您的收缩压是120mmHg。请问您的舒张压是多少呢？",
    "reasoning_summary": "用户想要记录血压，但只提供了收缩压，缺少舒张压这个必填字段。根据数据完整性检查规则，我不能直接调用工具，需要先询问缺失的舒张压信息。",
    "additional_fields": {
        "missing_fields": ["diastolic"],
        "collected_data": {
            "systolic": 120
        }
    }
}
```

## 样例3：查询场景

**用户输入：**
```
查询我最近的血压记录
```

**模型返回：**
```json
{
    "response_content": "我为您查询了最近的血压记录：\n\n1. 2024-01-15 08:00 - 收缩压120mmHg，舒张压80mmHg\n2. 2024-01-14 08:00 - 收缩压118mmHg，舒张压78mmHg\n\n您的血压值都在正常范围内，继续保持。",
    "reasoning_summary": "用户请求查询血压记录。我识别出这是查询意图，调用query_blood_pressure工具获取最近记录，然后以友好的方式展示给用户。",
    "additional_fields": {
        "tool_used": "query_blood_pressure",
        "record_count": 2,
        "query_time_range": "recent"
    }
}
```
